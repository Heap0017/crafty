version: '3.8'

services:
  testing:
    image: ghcr.io/betadots/pdc:latest
    container_name: crafty-ha-testing
    hostname: crafty-ha-testing
    platform: linux/x86_64
    volumes:
      - ./puppet.conf:/etc/puppetlabs/puppet/puppet.conf:ro
      - ./ssl:/etc/puppetlabs/puppet/ssl
    networks:
      - default
      - crafty-ha
      - crafty-ha-lb

networks:
  default:
    name: crafty-ha-test
  crafty-ha:
    external: true
  crafty-ha-lb:
    external: true
